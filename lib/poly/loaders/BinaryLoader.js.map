{"version":3,"sources":["../../../src/poly/loaders/BinaryLoader.js"],"names":["BinaryLoader","isArrayBuffer","_req","XMLHttpRequest","addEventListener","e","_onLoaded","_onProgress","responseType","url","callback","console","log","_callback","open","send","response"],"mappings":";;;;;;;;;;AAAA;;IAEqBA,Y;AAGpB,yBACG;AAAA;;AAAA,MADSC,aACT,uEADyB,KACzB;;AAAA;;AACF,OAAKC,IAAL,GAAY,IAAIC,cAAJ,EAAZ;AACA,OAAKD,IAAL,CAAUE,gBAAV,CAA2B,MAA3B,EAAmC,UAACC,CAAD;AAAA,UAAK,MAAKC,SAAL,CAAeD,CAAf,CAAL;AAAA,GAAnC;AACA,OAAKH,IAAL,CAAUE,gBAAV,CAA2B,UAA3B,EAAuC,UAACC,CAAD;AAAA,UAAK,MAAKE,WAAL,CAAiBF,CAAjB,CAAL;AAAA,GAAvC;AACA,MAAGJ,aAAH,EACM;AACL,QAAKC,IAAL,CAAUM,YAAV,GAAyB,aAAzB;AACA;AACD;;;;uBAGIC,G,EAAKC,Q,EAAU;AACnBC,WAAQC,GAAR,CAAY,YAAZ,EAA0BH,GAA1B;AACA,QAAKI,SAAL,GAAiBH,QAAjB;;AAEA,QAAKR,IAAL,CAAUY,IAAV,CAAe,KAAf,EAAsBL,GAAtB;AACA,QAAKP,IAAL,CAAUa,IAAV;AACA;;;8BAGW;AACX,QAAKF,SAAL,CAAe,KAAKX,IAAL,CAAUc,QAAzB;AACA;;;gCAEW,MAAQ;AACnB;AACA;;;;;;kBA9BmBhB,Y","file":"BinaryLoader.js","sourcesContent":["// copied from https://github.com/yiwenl/Alfrid/blob/master/src/alfrid/loaders/BinaryLoader.js\n\nexport default class BinaryLoader\n{\n\n\tconstructor(isArrayBuffer = false)\n    {\n\t\tthis._req = new XMLHttpRequest();\n\t\tthis._req.addEventListener('load', (e)=>this._onLoaded(e));\n\t\tthis._req.addEventListener('progress', (e)=>this._onProgress(e));\n\t\tif(isArrayBuffer)\n        {\n\t\t\tthis._req.responseType = 'arraybuffer';\n\t\t}\n\t}\n\n\n\tload(url, callback) {\n\t\tconsole.log('Loading : ', url);\n\t\tthis._callback = callback;\n\n\t\tthis._req.open('GET', url);\n\t\tthis._req.send();\n\t}\n\n\n\t_onLoaded() {\n\t\tthis._callback(this._req.response);\n\t}\n\n\t_onProgress(/* e*/) {\n\t\t// console.log('on Progress:', (e.loaded/e.total*100).toFixed(2));\n\t}\n}\n"]}