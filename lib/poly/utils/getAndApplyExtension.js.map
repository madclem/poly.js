{"version":3,"sources":["../../../src/poly/utils/getAndApplyExtension.js"],"names":["getAndApplyExtension","gl","name","ext","getExtension","console","log","suffix","split","suffixRE","RegExp","key","val","unsuffixedKey","replace","substring","bind"],"mappings":";;;;;kBAEwBA,oB;AAFxB;;AAEe,SAASA,oBAAT,CAA8BC,EAA9B,EAAkCC,IAAlC,EACf;AACC,KAAMC,MAAMF,GAAGG,YAAH,CAAgBF,IAAhB,CAAZ;AACA,KAAI,CAACC,GAAL,EACG;AACF,SAAO,KAAP;AACA;;AAEEE,SAAQC,GAAR,CAAY,IAAZ,EAAkBJ,IAAlB;AACH,KAAMK,SAASL,KAAKM,KAAL,CAAW,GAAX,EAAgB,CAAhB,CAAf;AACA,KAAMC,WAAW,IAAIC,MAAJ,CAAcH,MAAd,OAAjB;;AAEA,MAAK,IAAMI,GAAX,IAAkBR,GAAlB,EACG;AACF,MAAMS,MAAMT,IAAIQ,GAAJ,CAAZ;AACA,MAAI,OAAOC,GAAP,KAAgB,UAApB,EACM;AACL,OAAMC,gBAAgBF,IAAIG,OAAJ,CAAYL,QAAZ,EAAsB,EAAtB,CAAtB;AACA,OAAIE,IAAII,SAAR,EACS;AACRd,OAAGY,aAAH,IAAoBV,IAAIQ,GAAJ,EAASK,IAAT,CAAcb,GAAd,CAApB;AACA;AACD;AACD;;AAED,QAAO,IAAP;AACA","file":"getAndApplyExtension.js","sourcesContent":["// https://github.com/yiwenl/Alfrid/blob/master/src/alfrid/utils/getAndApplyExtension.js\n\nexport default function getAndApplyExtension(gl, name)\n{\n\tconst ext = gl.getExtension(name);\n\tif (!ext)\n    {\n\t\treturn false;\n\t}\n\n    console.log('yo', name);\n\tconst suffix = name.split('_')[0];\n\tconst suffixRE = new RegExp(`${suffix}$`);\n\n\tfor (const key in ext)\n    {\n\t\tconst val = ext[key];\n\t\tif (typeof(val) === 'function')\n        {\n\t\t\tconst unsuffixedKey = key.replace(suffixRE, '');\n\t\t\tif (key.substring)\n            {\n\t\t\t\tgl[unsuffixedKey] = ext[key].bind(ext);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn true;\n}\n"]}