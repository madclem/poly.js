{"version":3,"sources":["../../../src/poly/geometry/Object3D.js"],"names":["Object3D","_matrix","create","position","Vector","scale","rotation","_rotation","_scale","_position","_createGetterSetterUniforms","objects","nameProperties","map","x","y","z","_this","o","i","nameProperty","Proxy","get","target","name","console","log","undefined","set","value","length"],"mappings":";;;;;;;;AAAA;;AACA;;;;;;;;IAEqBA,Q;AAEjB,wBACA;AAAA;;AACI,aAAKC,OAAL,GAAe,eAAKC,MAAL,EAAf;;AAGA,YAAIC,WAAW,IAAI,eAAKC,MAAT,EAAf;AACA,YAAIC,QAAQ,IAAI,eAAKD,MAAT,EAAZ;AACA,YAAIE,WAAW,IAAI,eAAKF,MAAT,EAAf;;AAEA,aAAKG,SAAL,GAAiB,eAAKL,MAAL,EAAjB;AACA,aAAKM,MAAL,GAAc,eAAKN,MAAL,EAAd;AACA,aAAKO,SAAL,GAAiB,eAAKP,MAAL,EAAjB;;AAEA,aAAKQ,2BAAL,CAAiC,CAACP,QAAD,EAAWE,KAAX,EAAkBC,QAAlB,CAAjC,EAA8D,CAAC,UAAD,EAAa,OAAb,EAAsB,UAAtB,CAA9D;AACH;;;;oDAE2BK,O,EAASC,c,EACrC;AAAA;;AACI,gBAAIC,MAAM,EAAEC,GAAG,CAAL,EAAQC,GAAG,CAAX,EAAcC,GAAG,CAAjB,EAAV;AACA,gBAAIC,QAAQ,IAAZ;;AAFJ;AAMQ,oBAAIC,IAAIP,QAAQQ,CAAR,CAAR;AACA,oBAAIC,eAAeR,eAAeO,CAAf,CAAnB;;AAEA,uBAAKP,eAAeO,CAAf,CAAL,IAA0B,IAAIE,KAAJ,CAAUH,CAAV,EAAa;AACnCI,yBAAK,aAASC,MAAT,EAAiBC,IAAjB,EACL;AACI,4BAAI,EAAEA,QAAQD,MAAV,CAAJ,EACA;AACIE,oCAAQC,GAAR,CAAY,oCAAoCF,IAApC,GAA2C,GAAvD;AACA,mCAAOG,SAAP;AACH;;AAED,+BAAOJ,OAAOC,IAAP,CAAP;AACH,qBAVkC;AAWnCI,yBAAK,aAASL,MAAT,EAAiBC,IAAjB,EAAuBK,KAAvB,EACL;AACI,4BAAI,EAAEL,QAAQD,MAAV,CAAJ,EACA;AACIE,oCAAQC,GAAR,CAAY,oCAAoCF,IAApC,GAA2C,oBAA3C,GAAkEK,KAA9E;AACA,mCAAO,KAAP;AACH;;AAEDN,+BAAOC,IAAP,IAAeK,KAAf;AACAZ,8BAAM,MAAMG,YAAZ,EAA0BP,IAAIW,IAAJ,CAA1B,IAAuCK,KAAvC;;AAEA,+BAAON,OAAOC,IAAP,CAAP;AACH;AAvBkC,iBAAb,CAA1B;AATR;;AAII,iBAAK,IAAIL,IAAI,CAAb,EAAgBA,IAAIR,QAAQmB,MAA5B,EAAoCX,GAApC,EACA;AAAA;AA6BC;AACJ;;;;;;kBAtDgBnB,Q","file":"Object3D.js","sourcesContent":["import { mat3, mat4, vec3 } from 'gl-matrix';\nimport core from '../core';\n\nexport default class Object3D\n{\n    constructor()\n    {\n        this._matrix = mat4.create();\n\n\n        let position = new core.Vector();\n        let scale = new core.Vector();\n        let rotation = new core.Vector();\n\n        this._rotation = vec3.create();\n        this._scale = vec3.create();\n        this._position = vec3.create();\n\n        this._createGetterSetterUniforms([position, scale, rotation], ['position', 'scale', 'rotation']);\n    }\n\n    _createGetterSetterUniforms(objects, nameProperties)\n    {\n        let map = { x: 0, y: 1, z: 2 }\n        let _this = this;\n\n        for (var i = 0; i < objects.length; i++)\n        {\n            let o = objects[i];\n            let nameProperty = nameProperties[i];\n\n            this[nameProperties[i]] = new Proxy(o, {\n                get: function(target, name)\n                {\n                    if (!(name in target))\n                    {\n                        console.log(\"Getting non-existant property '\" + name + \"'\");\n                        return undefined;\n                    }\n\n                    return target[name];\n                },\n                set: function(target, name, value)\n                {\n                    if (!(name in target))\n                    {\n                        console.log(\"Setting non-existant property '\" + name + \"', initial value: \" + value);\n                        return false;\n                    }\n\n                    target[name] = value\n                    _this['_' + nameProperty][map[name]] = value;\n\n                    return target[name];\n                }\n            });\n        }\n    }\n}\n"]}