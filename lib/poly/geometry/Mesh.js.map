{"version":3,"sources":["../../../src/poly/geometry/Mesh.js"],"names":["Mesh","program","drawType","_attributes","_vertices","_indices","_vertexSize","_numItems","indexBuffer","indices","dynamic","gl","DYNAMIC_DRAW","STATIC_DRAW","createBuffer","bindBuffer","ELEMENT_ARRAY_BUFFER","bufferData","Uint16Array","data","name","length","addAttribute","itemSize","buffer","ARRAY_BUFFER","Float32Array","push","numItems","addAttributeLocation"],"mappings":";;;;;;;;;;IAAqBA,I;AAEpB,eAAYC,OAAZ,EACA;AAAA,MADsBC,QACtB,uEADiC,CACjC;;AAAA;;AACC,OAAKD,OAAL,GAAeA,OAAf;AACA,OAAKC,QAAL,GAAgBA,QAAhB;AACA,OAAKC,WAAL,GAAmB,EAAnB;AACA,OAAKC,SAAL,GAAiB,EAAjB;AACA,OAAKC,QAAL,GAAgB,EAAhB;AACA,OAAKC,WAAL,GAAmB,CAAnB;AACA,OAAKC,SAAL,GAAiB,CAAjB;AACA,OAAKC,WAAL,GAAmB,IAAnB;AACA;;;;6BAEUC,O,EAASC,O,EACpB;AACC,OAAIC,KAAK,KAAKV,OAAL,CAAaU,EAAtB;AACA,OAAMT,WAAWQ,UAAUC,GAAGC,YAAb,GAA4BD,GAAGE,WAAhD;AACA,QAAKR,QAAL,GAAgBI,OAAhB;;AAEA,QAAKD,WAAL,GAAmBG,GAAGG,YAAH,EAAnB;;AAEAH,MAAGI,UAAH,CAAcJ,GAAGK,oBAAjB,EAAuC,KAAKR,WAA5C;AACAG,MAAGM,UAAH,CAAcN,GAAGK,oBAAjB,EAAuC,IAAIE,WAAJ,CAAgBT,OAAhB,CAAvC,EAAiEP,QAAjE;AAEA;;;8BAEWiB,I,EACZ;AAAA,OADkBC,IAClB,uEADyB,WACzB;;AACC,QAAKhB,SAAL,GAAiBe,IAAjB;AACA,QAAKb,WAAL,GAAmB,KAAKF,SAAL,CAAeiB,MAAlC;AACA,QAAKd,SAAL,GAAiB,KAAKD,WAAL,GAAiB,CAAlC;AACA,QAAKgB,YAAL,CAAkBH,IAAlB,EAAwBC,IAAxB;AACA;;;+BAEYD,I,EAAMC,I,EACnB;AAAA,OADyBG,QACzB,uEADoC,CACpC;;AACC,OAAIZ,KAAK,KAAKV,OAAL,CAAaU,EAAtB;AACA,OAAIa,SAASb,GAAGG,YAAH,EAAb;AACGH,MAAGI,UAAH,CAAcJ,GAAGc,YAAjB,EAA+BD,MAA/B;AACAb,MAAGM,UAAH,CAAcN,GAAGc,YAAjB,EAA+B,IAAIC,YAAJ,CAAiBP,IAAjB,CAA/B,EAAuDR,GAAGE,WAA1D;;AAEA,QAAKV,WAAL,CAAiBwB,IAAjB,CAAsB;AACrBP,cADqB;AAErBD,cAFqB;AAGrBI,sBAHqB;AAIrBK,cAAU,KAAKrB,SAJM;AAKrBiB;AALqB,IAAtB;;AAQA,QAAKvB,OAAL,CAAa4B,oBAAb,CAAkCT,IAAlC;AACH;;;;;;kBAnDmBpB,I","file":"Mesh.js","sourcesContent":["export default class Mesh\r\n{\r\n\tconstructor(program , drawType = 4)\r\n\t{\r\n\t\tthis.program = program;\r\n\t\tthis.drawType = drawType;\r\n\t\tthis._attributes = [];\r\n\t\tthis._vertices = [];\r\n\t\tthis._indices = [];\r\n\t\tthis._vertexSize = 0;\r\n\t\tthis._numItems = 0;\r\n\t\tthis.indexBuffer = null;\r\n\t}\r\n\r\n\taddIndices(indices, dynamic)\r\n\t{\r\n\t\tlet gl = this.program.gl;\r\n\t\tconst drawType = dynamic ? gl.DYNAMIC_DRAW : gl.STATIC_DRAW;\r\n\t\tthis._indices = indices;\r\n\r\n\t\tthis.indexBuffer = gl.createBuffer();\r\n\r\n\t\tgl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.indexBuffer);\r\n\t\tgl.bufferData(gl.ELEMENT_ARRAY_BUFFER, new Uint16Array(indices), drawType);\r\n\r\n\t}\r\n\r\n\taddPosition(data, name = 'aPosition')\r\n\t{\r\n\t\tthis._vertices = data;\r\n\t\tthis._vertexSize = this._vertices.length;\r\n\t\tthis._numItems = this._vertexSize/3;\r\n\t\tthis.addAttribute(data, name);\r\n\t}\r\n\r\n\taddAttribute(data, name, itemSize = 3)\r\n\t{\r\n\t\tlet gl = this.program.gl;\r\n\t\tlet buffer = gl.createBuffer();\r\n    \tgl.bindBuffer(gl.ARRAY_BUFFER, buffer);\r\n    \tgl.bufferData(gl.ARRAY_BUFFER, new Float32Array(data), gl.STATIC_DRAW);\r\n  \r\n   \t\tthis._attributes.push({\r\n   \t\t\tname,\r\n   \t\t\tdata,\r\n   \t\t\titemSize,\r\n   \t\t\tnumItems: this._numItems,\r\n   \t\t\tbuffer\r\n   \t\t});\r\n\r\n   \t\tthis.program.addAttributeLocation(name);\r\n\t}\r\n}"]}