{"version":3,"sources":["../../../src/poly/helpers/BatchPlanes.js"],"names":["BatchPlanes","size","program","POLY","Program","color","type","value","opacity","index","positions","indices","i","j","push","addPosition","addIndices","bind","GL","draw"],"mappings":";;;;;;;;AAAA;;;;AACA;;;;AACA;;;;;;;;;;;;IAEqBA,W;;;AAEjB,2BACA;AAAA,YADYC,IACZ,uEADmB,EACnB;;AAAA;;AACI,YAAIC,UAAU,IAAIC,KAAKC,OAAT,6CAA6B;AACvCC,mBAAO;AACHC,sBAAM,MADH;AAEHC,uBAAO,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT;AAFJ,aADgC;AAKvCC,qBAAS;AACLF,sBAAM,OADD;AAELC,uBAAO;AAFF;AAL8B,SAA7B,CAAd;;AADJ,8HAYUL,OAZV,EAYmB,IAZnB,EAYyB,CAZzB;;AAcI,YAAIO,QAAQ,CAAZ;AACA,YAAIC,YAAY,EAAhB;AACA,YAAIC,UAAU,EAAd;;AAEA,aAAK,IAAIC,IAAI,CAACX,IAAd,EAAoBW,IAAIX,IAAxB,EAA8BW,GAA9B,EACA;AACI,iBAAK,IAAIC,IAAI,CAACZ,IAAd,EAAoBY,IAAIZ,IAAxB,EAA8BY,GAA9B,EACA;AACIH,0BAAUI,IAAV,CAAeF,CAAf,EAAkBC,CAAlB,EAAqB,CAArB;AACAF,wBAAQG,IAAR,CAAaL,KAAb;AACAA;;AAEAC,0BAAUI,IAAV,CAAeF,CAAf,EAAkB,CAAlB,EAAqBC,CAArB;AACAF,wBAAQG,IAAR,CAAaL,KAAb;AACAA;AACH;AACJ;;AAED,cAAKM,WAAL,CAAiBL,SAAjB;AACA,cAAKM,UAAL,CAAgBL,OAAhB;AAjCJ;AAkCC;;;;+BAGD;AACI,iBAAKT,OAAL,CAAae,IAAb;AACAd,iBAAKe,EAAL,CAAQC,IAAR,CAAa,IAAb;AACH;;;;;;kBA3CgBnB,W","file":"BatchPlanes.js","sourcesContent":["import Mesh from '../geometry/Mesh';\nimport vert from '../shaders/planes-dot.vert';\nimport frag from '../shaders/simpleColor.frag';\n\nexport default class BatchPlanes extends Mesh\n{\n    constructor(size = 25)\n    {\n        let program = new POLY.Program(vert, frag, {\n            color: {\n                type: 'vec3',\n                value: [1., 1., 1.]\n            },\n            opacity: {\n                type: 'float',\n                value: .6\n            }\n        });\n\n        super(program, null, 0);\n\n        let index = 0;\n        let positions = [];\n        let indices = [];\n\n        for (let i = -size; i < size; i++)\n        {\n            for (let j = -size; j < size; j++)\n            {\n                positions.push(i, j, 0);\n                indices.push(index);\n                index++;\n\n                positions.push(i, 0, j);\n                indices.push(index);\n                index++;\n            }\n        }\n\n        this.addPosition(positions);\n        this.addIndices(indices);\n    }\n\n    draw()\n    {\n        this.program.bind();\n        POLY.GL.draw(this);\n    }\n}\n"]}