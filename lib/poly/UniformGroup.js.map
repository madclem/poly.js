{"version":3,"sources":["../../src/poly/UniformGroup.js"],"names":["UniformGroup","data","program","p","__data","self","name","Object","defineProperty","get","value","set","type","glFunction","POLY","CONST","uniformTypes","gl","indexOf","getUniformLocation","index"],"mappings":";;;;;;;;IACqBA,Y,GAEjB,sBAAYC,IAAZ,EAAkBC,OAAlB,EACA;AAAA;;AACI,SAAK,IAAIC,CAAT,IAAcF,IAAd,EAAoB;AAChB,aAAKE,CAAL,IAAUF,KAAKE,CAAL,CAAV;AACH;;AAED,SAAKC,MAAL,GAAc,EAAd;;AAEA,QAAIC,OAAO,IAAX;;AAEA,SAAI,IAAIF,CAAR,IAAaE,IAAb,EAAmB;AACf,YAAGF,MAAM,QAAT,EAAmB;AACf;AACH;;AAEDE,aAAKD,MAAL,CAAYD,CAAZ,IAAiBE,KAAKF,CAAL,CAAjB;;AAEA,SAAC,UAASG,IAAT,EAAe;AACZC,mBAAOC,cAAP,CAAuBH,IAAvB,EAA6BC,IAA7B,EAAmC;AAC/BG,qBAAK,eAAY;AACb,2BAAOJ,KAAKD,MAAL,CAAYE,IAAZ,EAAkBI,KAAzB;AACH,iBAH8B;AAI/BC,qBAAK,aAAUD,KAAV,EAAiB;AAClBL,yBAAKD,MAAL,CAAYE,IAAZ,EAAkBI,KAAlB,GAA0BA,KAA1B;;AAEA,wBAAIE,OAAOP,KAAKD,MAAL,CAAYE,IAAZ,EAAkBM,IAA7B;AACA,wBAAIC,aAAaC,KAAKC,KAAL,CAAWC,YAAX,CAAwBJ,IAAxB,CAAjB;;AAEA,wBAAIK,KAAKf,QAAQe,EAAjB;AACA,wBAAGL,KAAKM,OAAL,CAAa,KAAb,MAAwB,CAAC,CAA5B,EACA;AACI,4BAAGN,SAAS,SAAZ,EACA;AACIK,+BAAGJ,UAAH,EAAeX,QAAQiB,kBAAR,CAA2Bb,IAA3B,CAAf,EAAiDI,KAAjD,EAAwDL,KAAKD,MAAL,CAAYE,IAAZ,EAAkBc,KAA1E;AACH,yBAHD,MAKA;AACIH,+BAAGJ,UAAH,EAAeX,QAAQiB,kBAAR,CAA2Bb,IAA3B,CAAf,EAAiDI,KAAjD;AACH;AACJ,qBAVD,MAYA;AACIO,2BAAGJ,UAAH,EAAeX,QAAQiB,kBAAR,CAA2Bb,IAA3B,CAAf,EAAiD,KAAjD,EAAwDI,KAAxD;AACH;AACJ;AA1B8B,aAAnC;AA4BH,SA7BD,EA6BGP,CA7BH;AA8BH;AACJ,C;;kBAlDgBH,Y","file":"UniformGroup.js","sourcesContent":["\nexport default class UniformGroup\n{\n    constructor(data, program)\n    {\n        for (var p in data) {\n            this[p] = data[p];\n        }\n\n        this.__data = {};\n\n        var self = this;\n\n        for(var p in self) {\n            if(p === '__data') {\n                return;\n            }\n\n            self.__data[p] = self[p];\n\n            (function(name) {\n                Object.defineProperty (self, name, {\n                    get: function () {\n                        return self.__data[name].value;\n                    },\n                    set: function (value) {\n                        self.__data[name].value = value;\n\n                        let type = self.__data[name].type;\n                        let glFunction = POLY.CONST.uniformTypes[type];\n\n                        let gl = program.gl;\n                        if(type.indexOf('mat') === -1)\n                        {\n                            if(type === 'texture')\n                            {\n                                gl[glFunction](program.getUniformLocation(name), value, self.__data[name].index);\n                            }\n                            else\n                            {\n                                gl[glFunction](program.getUniformLocation(name), value);\n                            }\n                        }\n                        else\n                        {\n                            gl[glFunction](program.getUniformLocation(name), false, value);\n                        }\n                    }\n                });\n            })(p);\n        }\n    }\n}\n"]}