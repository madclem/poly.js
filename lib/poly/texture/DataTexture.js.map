{"version":3,"sources":["../../../src/poly/texture/DataTexture.js"],"names":["DataTexture","data","width","height","format","gl","POLY","RGBA","_texture","createTexture","bindTexture","TEXTURE_2D","texImage2D","UNSIGNED_BYTE","utils","isPowerOfTwo","generateMipmap","texParameteri","TEXTURE_MIN_FILTER","NEAREST","TEXTURE_MAG_FILTER","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","index","activeTexture","TEXTURE0"],"mappings":";;;;;;;;;;IAAqBA,W;AAEpB,sBAAYC,IAAZ,EACA;AAAA,MADkBC,KAClB,uEAD0B,GAC1B;AAAA,MAD+BC,MAC/B,uEADwC,GACxC;AAAA,MAD6CC,MAC7C;;AAAA;;AACC,OAAKC,EAAL,GAAUC,KAAKD,EAAf;AACA,MAAIA,KAAK,KAAKA,EAAd;;AAEAD,WAASA,UAAUC,GAAGE,IAAtB;;AAEA,OAAKC,QAAL,GAAgBH,GAAGI,aAAH,EAAhB;AACAJ,KAAGK,WAAH,CAAeL,GAAGM,UAAlB,EAA8B,KAAKH,QAAnC;AACAH,KAAGO,UAAH,CAAcP,GAAGM,UAAjB,EAA6B,CAA7B,EAAgCP,MAAhC,EAAwCF,KAAxC,EAA+CC,MAA/C,EAAuD,CAAvD,EACcC,MADd,EACsBC,GAAGQ,aADzB,EACwCZ,IADxC;;AAGA,MAAGK,KAAKQ,KAAL,CAAWC,YAAX,CAAwBb,KAAxB,KAAkCI,KAAKQ,KAAL,CAAWC,YAAX,CAAwBZ,MAAxB,CAArC,EACE;AACCE,MAAGW,cAAH,CAAkBX,GAAGM,UAArB;AACA;;AAEHN,KAAGY,aAAH,CAAiBZ,GAAGM,UAApB,EAAgCN,GAAGa,kBAAnC,EAAuDb,GAAGc,OAA1D;AACAd,KAAGY,aAAH,CAAiBZ,GAAGM,UAApB,EAAgCN,GAAGe,kBAAnC,EAAuDf,GAAGc,OAA1D;AACAd,KAAGY,aAAH,CAAiBZ,GAAGM,UAApB,EAAgCN,GAAGgB,cAAnC,EAAmDhB,GAAGiB,aAAtD;AACAjB,KAAGY,aAAH,CAAiBZ,GAAGM,UAApB,EAAgCN,GAAGkB,cAAnC,EAAmDlB,GAAGiB,aAAtD;AACC;AACA;AAED;;;;yBAGD;AAAA,OADKE,KACL,uEADa,CACb;;AACC,OAAInB,KAAK,KAAKA,EAAd;AACAA,MAAGoB,aAAH,CAAiBpB,GAAGqB,QAAH,GAAcF,KAA/B;AACGnB,MAAGK,WAAH,CAAeL,GAAGM,UAAlB,EAA8B,KAAKH,QAAnC;AACH;;;;;;kBAjCmBR,W","file":"DataTexture.js","sourcesContent":["export default class DataTexture\r\n{\r\n\tconstructor(data, width = 256, height = 256, format)\r\n\t{\r\n\t\tthis.gl = POLY.gl;\r\n\t\tlet gl = this.gl;\r\n\r\n\t\tformat = format || gl.RGBA;\r\n\r\n\t\tthis._texture = gl.createTexture();\r\n\t\tgl.bindTexture(gl.TEXTURE_2D, this._texture);\r\n\t\tgl.texImage2D(gl.TEXTURE_2D, 0, format, width, height, 0,\r\n\t\t              format, gl.UNSIGNED_BYTE, data);\r\n\t\t \r\n\t\tif(POLY.utils.isPowerOfTwo(width) && POLY.utils.isPowerOfTwo(height))\r\n  \t\t{\r\n  \t\t\tgl.generateMipmap(gl.TEXTURE_2D);\r\n  \t\t}\r\n\r\n\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\r\n\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\r\n\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\r\n\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\r\n \t\t// gl.texParameteri ( gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.REPEAT ) ;\r\n\t\t // gl.texParameteri ( gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.REPEAT ) ;\r\n\r\n\t}\r\n\r\n\tbind(index = 0)\r\n\t{\r\n\t\tlet gl = this.gl;\r\n\t\tgl.activeTexture(gl.TEXTURE0 + index);\r\n    \tgl.bindTexture(gl.TEXTURE_2D, this._texture);\r\n\t}\r\n}"]}